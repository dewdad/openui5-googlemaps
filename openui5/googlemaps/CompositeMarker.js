sap.ui.define(["jquery.sap.global","./Marker","google.maps"],function(e,t,a){"use strict";var r=t.getMetadata()._sLibraryName;sap.ui.getCore().getEventBus().subscribe(a.notifyEvent,function(){$.sap.require(r+".richmarker")}),$.sap.includeStyleSheet($.sap.getModulePath(r)+"/css/markerclusters.css");var n=t.extend("openui5.googlemaps.CompositeMarker",{metadata:{properties:{count:{type:"int",defaultValue:1,bindable:"bindable"}},events:{},renderer:{}}});n.prototype.setCount=function(e){this.setProperty("count",e,!0),this.marker&&this.marker.set("count",this.getCount())};var s=[{max:9,name:"gmaps-cluster-m1"},{max:99,name:"gmaps-cluster-m2"},{max:999,name:"gmaps-cluster-m3"},{max:Number.POSITIVE_INFINITY,name:"gmaps-cluster-m4"},{max:Number.POSITIVE_INFINITY,name:"gmaps-cluster-m5"}];return n.prototype.createMarker=function(){var t,r=this.getCount();if(r>1){var n=Math.min(r.toString().length,s.length),i=s[n-1].name,o=$(document.createElement("DIV")).addClass(i).text(r);t=window.cmark=new RichMarker(e.extend(this.getOptions(),{flat:!0,anchor:RichMarkerPosition.MIDDLE,content:o[0]})),t.set("count",this.getCount())}else t=new a.Marker(this.getOptions());return t},n},!0);